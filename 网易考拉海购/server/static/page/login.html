<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <script src="jquery/dist/jquery.min.js"></script>
</head>
<body>
    <div id='login'>
        <h1>登录</h1>
        用户名:<input type="text" id="us"><br>
        密码：<input type="password" id="ps"><br>
        <button onclick="login()">登录</button>
    </div>
   
    <script>
         let rootPath='http://localhost:3000';
         function reg(){
          if($('input').val()=="") return;
          var data={
             user:$("#us").val(),
             pass:$('#ps').val()
           }
           $.post(rootPath+'/router/reg',data,function(res){
             console.log(res);
           })
         }
         function login(){ 
           if($('input').val()=="") return;
           var data={
             user:$("#us").val(),
             pass:$('#ps').val(),
             bool:false
           }
           $.post(rootPath+'/router/login',data,function(res){
             if(res.err===0){
              bool=true;
              localStorage.state=bool;
              localStorage.user=data.user;
               window.location.href='index.html'
             }else{
               window.location.href='reg.html'
             }
           })
         }
    </script>
</body>
</html>